# =============================================================================
# Django Core Settings
# =============================================================================

# REQUIRED: Secret key for cryptographic signing
# Generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=change-me-to-a-random-secret-key

# OPTIONAL: Enable debug mode (Default: True)
# WARNING: Always set to False in production!
DEBUG=True

# OPTIONAL: Comma-separated list of allowed hosts (Default: localhost)
# In production, set to your domain(s): yourdomain.com,www.yourdomain.com
ALLOWED_HOSTS=localhost,127.0.0.1


# =============================================================================
# Database Configuration
# =============================================================================

# REQUIRED: Database connection settings
{%- if cookiecutter.database == "postgresql" %}
DB_NAME={{ cookiecutter.project_slug }}
DB_USER=user
DB_PASSWORD=password
DB_HOST=localhost
DB_PORT=5432

# Constructed from individual variables above
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

{%- if cookiecutter.use_docker == "yes" %}
# For Docker, use the service name as host and the internal port:
# DB_HOST=db
# DB_PORT=5432
# DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

{%- endif %}
{%- else %}
# SQLite format: sqlite:///path/to/db.sqlite3
# The path will automatically be set to data/db.sqlite3
DATABASE_URL=sqlite:///data/db.sqlite3
{%- endif %}


# =============================================================================
# Email Configuration
# =============================================================================

{%- if cookiecutter.use_mailpit == "yes" %}
# REQUIRED: Email backend class
# For development with Mailpit (Docker):
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend

# REQUIRED: SMTP server hostname
# Use 'mailpit' for Docker, 'localhost' for local Mailpit
EMAIL_HOST=mailpit

# REQUIRED: SMTP port
EMAIL_PORT=1025

# REQUIRED: Use TLS encryption
EMAIL_USE_TLS=False

# OPTIONAL: SMTP authentication (not needed for Mailpit)
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=

# Access Mailpit web interface at: http://localhost:8025
{%- else %}
# REQUIRED: Email backend class
# Options:
#   - django.core.mail.backends.console.EmailBackend (prints to console)
#   - django.core.mail.backends.smtp.EmailBackend (sends via SMTP)
#   - django.core.mail.backends.filebased.EmailBackend (saves to files)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# REQUIRED (for SMTP): SMTP server hostname
# Examples: smtp.gmail.com, smtp.sendgrid.net, smtp.mailgun.org
EMAIL_HOST=smtp.gmail.com

# REQUIRED (for SMTP): SMTP port (Default: 587 for TLS, 465 for SSL)
EMAIL_PORT=587

# REQUIRED (for SMTP): Use TLS encryption (Default: True)
EMAIL_USE_TLS=True

# REQUIRED (for SMTP): SMTP authentication credentials
# For Gmail, use an App Password: https://support.google.com/accounts/answer/185833
EMAIL_HOST_USER=your-email@example.com
EMAIL_HOST_PASSWORD=your-app-password
{%- endif %}


# =============================================================================
# Internationalization
# =============================================================================

# OPTIONAL: Timezone for the application (Default: {{ cookiecutter.timezone }})
# See: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TIME_ZONE={{ cookiecutter.timezone }}


{%- if cookiecutter.use_rest_framework == "yes" %}
# =============================================================================
# CORS & CSRF Configuration (Production Only)
# =============================================================================

# OPTIONAL: Comma-separated list of allowed CORS origins
# Only required in production when DEBUG=False
# Example: https://yourdomain.com,https://www.yourdomain.com
# CORS_ALLOWED_ORIGINS=

# OPTIONAL: Comma-separated list of trusted CSRF origins
# Only required in production when DEBUG=False
# Must include the protocol (https://)
# Example: https://yourdomain.com,https://www.yourdomain.com
# CSRF_TRUSTED_ORIGINS=

# Note: In development (DEBUG=True), CORS allows all origins by default


# =============================================================================
# JWT Authentication Configuration
# =============================================================================

# OPTIONAL: SameSite attribute for JWT cookies (Default: Lax)
# Options: Lax, Strict, None (None requires JWT_AUTH_SECURE=True)
# Implication: Prevents CSRF attacks by controlling cross-site cookie sharing.
JWT_AUTH_SAMESITE=Lax

# OPTIONAL: Use secure cookies (HTTPS only) (Default: False)
# WARNING: Always set to True in production!
# Implication: Prevents session hijacking by ensuring tokens are only sent via HTTPS.
JWT_AUTH_SECURE=False
{%- endif %}


# =============================================================================
# Additional Notes
# =============================================================================

# Environment Variable Defaults:
# - DEBUG: True
# - ALLOWED_HOSTS: localhost
{%- if cookiecutter.use_rest_framework == "yes" %}
# - CORS_ALLOWED_ORIGINS: All origins (when DEBUG=True)
# - CSRF_TRUSTED_ORIGINS: Not required (when DEBUG=True)
{%- endif %}
{%- if cookiecutter.database == "postgresql" and cookiecutter.use_docker == "yes" %}
# - POSTGRES_PORT: 5432
{%- endif %}

# Security Checklist for Production:
# ✓ Set DEBUG=False
# ✓ Generate a strong SECRET_KEY
# ✓ Configure ALLOWED_HOSTS with your domain(s)
# ✓ Use a production-grade database (PostgreSQL recommended)
# ✓ Configure email backend for SMTP
{%- if cookiecutter.use_rest_framework == "yes" %}
# ✓ Set CORS_ALLOWED_ORIGINS to specific domains
# ✓ Set CSRF_TRUSTED_ORIGINS to specific domains
{%- endif %}
# ✓ Enable HTTPS
# ✓ Review Django's deployment checklist: python manage.py check --deploy